const e=document.getElementsByTagName("main")[0],t=document.getElementById("routesContainer").children,n=window.matchMedia("(max-width: 768px)").matches;let l=0===window.location.hash.length?"main":window.location.hash.substring(1),s=1;function o(){switch(Array.prototype.forEach.call(t,(e=>e.className="")),l){case"main":i("main.html","0px",0,"Pápai Fázismester Kft.");break;case"gallery":i("gallery.html","24px",1,"Galéria - Pápai Fázismester Kft.");break;case"about":e.appendChild(c("assets/about/shop.webp","image")),i("about.html","24px",2,"Rólunk - Pápai Fázismester Kft.");break;case"contact":const t=document.createElement("link");t.href="https://www.google.com",t.toggleAttribute("crossorigin"),e.appendChild(t),i("contact.html","24px",3,"Elérhetőség - Pápai Fázismester Kft.",(()=>{const e=new Date,t=document.getElementById("day-"+e.getDay()),n=document.getElementById("current-opening-status"),l=t.lastElementChild.innerText;"Zárva"!==l&&function(e,t){const n=e.indexOf("-"),l=a(e.substring(0,n)),s=a(e.substring(n+1)),o=60*t.getHours()+t.getMinutes();return o>=l&&o<=s}(l,e)?(n.innerText="Nyitva",n.style.color="green"):(n.innerText="Zárva",n.style.color="red"),t.style.fontWeight="bold"}))}}function i(n,l,s,o,i=()=>{}){fetch("pages/"+n).then((e=>e.text())).then((t=>{e.style.margin=l,e.innerHTML=t,i()})),t[s].className="active-route",document.title=o}function a(e){const t=e.indexOf(":");return 60*Number.parseInt(e.substring(0,t))+Number.parseInt(e.substring(t+1))}function c(e,t){const n=document.createElement("link");return n.rel="preload",n.href=e,n.as=t,n}function d(e){const t=document.getElementsByClassName("slide-element"),n=document.getElementsByClassName("dot"),l=t.length;s=e>l?1:e<1?l:s;const o=t[s-1];o.complete?r(t,n):(o.removeAttribute("loading"),o.addEventListener("load",(e=>r(t,n))))}function r(e,t){const n=e.length;for(let l=0;l<n;++l)e[l].style.display="none",t[l].classList.remove("active");e[s-1].style.display="block",t[s-1].classList.add("active")}function y(t){const n=document.getElementsByClassName("slide-element"),l=n.length,o=s+t,i=o>l?1:o<1?l:o;e.appendChild(c(n[i-1].src,"image"))}o(),window.history.replaceState(l,null,"#"+l),window.addEventListener("popstate",(e=>{l=0===window.location.hash.length?"main":window.location.hash.substring(1),o()})),window.customElements.define("gallery-section",class extends HTMLElement{constructor(){super()}connectedCallback(){const e=document.createElement("h2");e.className="gallery-section-title",e.innerText=this.getAttribute("section-title");const t=document.createElement("div");t.className="gallery-section-placeholder",t.innerHTML=n?"":'<div class = "gallery-section-placeholder-divider" style = "left: 23%;"></div><div class = "gallery-section-placeholder-divider" style = "left: 48%;"></div><div class = "gallery-section-placeholder-divider" style = "left: 74%;"></div>',this.style.display="block",this.appendChild(e),this.appendChild(t);const l=document.getElementById(this.getAttribute("section-data-list")).options;let s=0;const o=Array.prototype.reduce.call(l,((e,n)=>{const i=document.createElement("img");return i.className="gallery-image",i.src="assets/gallery/"+n.value,i.alt=n.innerText,i.addEventListener("click",(e=>function(e){const t=window.scrollY,n=()=>{document.body.style.overflowY="",document.body.removeChild(l),document.body.removeChild(s),document.body.removeChild(i),document.body.removeEventListener("keyup",o)},l=document.createElement("img");l.src=e.src.replace(".webp","_hd.webp"),l.style.position="absolute",l.style.zIndex="2",l.style.top=`calc(${t}px + 50%)`,l.style.left="50%",l.style.translate="-50% -50%",window.innerWidth<window.innerHeight?l.style.width="80%":l.style.height="80dvh";const s=document.createElement("div");s.style.position="absolute",s.style.top=t+"px",s.style.width="100%",s.style.height="100dvh",s.style.backgroundColor="black",s.style.opacity="0.75",s.style.zIndex="1";const o=e=>{"Escape"===e.key&&n()};s.addEventListener("click",n);const i=document.createElement("div");i.style.position="absolute",i.style.right="32px",i.style.top=t+32+"px",i.style.color="white",i.style.cursor="pointer",i.style.zIndex="2",i.style.fontSize="22px",i.innerText="X",i.addEventListener("click",n),document.body.style.overflowY="hidden",document.body.appendChild(s),document.body.appendChild(l),document.body.appendChild(i),document.body.addEventListener("keyup",o)}(e.target))),i.addEventListener("load",(e=>{++s,s===l.length&&(this.removeChild(t),o.forEach((e=>e.style.display="inline")))})),e.push(i),this.appendChild(i),e}),[])}}),window.togglePhoneNavigation=function(){Array.prototype.forEach.call(t,(e=>{e.classList.contains("active-route")||(e.style.display="none"===e.style.display||""===e.style.display?"block":"")}))},window.routeTo=function(n,s){n.preventDefault(),e.scrollTo(0,0),s!==l&&(window.history.pushState(l,null,"#"+s),l=s,o()),null!==document.getElementById("phoneRoutesButton").offsetParent&&Array.prototype.forEach.call(t,(e=>{e.classList.contains("active-route")||(e.style.display="")}))},window.nthSlide=function(e){d(s=e)},window.preloadSlideByOffset=function(e){y(e)},window.slideByOffset=function(e){d(s+=e),y(e)};